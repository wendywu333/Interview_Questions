/**
 * 
 */
package LeetCode;

/**
 * @author Wenzhe
 * @date Jul 3, 2013
 * 
 */
public class Reverse_Linked_List_II {

	public ListNode reverseBetween(ListNode head, int m, int n) {
		// Start typing your Java solution below
		// DO NOT write main() function

		if (m == n)
			return head;
		ListNode h = new ListNode(-1);
		ListNode cur = h;
		h.next = head;
		int pos = 0;
		while (pos < m - 1) {
			cur = cur.next;
			pos++;
		}
		ListNode last = cur;
		ListNode temp2 = null;
		cur = cur.next;
		pos++;
		ListNode temp;
		while (pos <= n) {

			temp = cur.next;
			cur.next = temp2;
			last.next = cur;
			temp2 = cur;
			cur = temp;
			pos++;
		}

		last.next.next = cur;

		return h.next;

	}
}
